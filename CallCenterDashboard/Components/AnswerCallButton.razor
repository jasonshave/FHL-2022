@using CallingDashboard.Models
@using CallingDashboard.Features.CallingServer
@using CallingDashboard.Features.UnansweredCalls
@inject IDispatcher dispatcher

<MudIconButton OnClick="() => Handle(Call)" Color="Color.Success" Icon="@Icons.Material.Filled.Phone"/>

@code {
    [Parameter] public UnansweredCall Call { get; set; }

    void Handle(UnansweredCall call)
    {
        dispatcher.Dispatch(new CallingServerAnswerAction(call));
        dispatcher.Dispatch(new UnansweredCallsRemoveAction(call));
    }
}
